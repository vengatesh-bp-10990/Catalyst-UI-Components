<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZCAT Button Component — Catalyst UI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="theme/zcat-tokens.css">
  <link rel="stylesheet" href="styles/app.css">
  <link rel="stylesheet" href="styles/zcat-button.css">
  <link rel="stylesheet" href="styles/demo.css">
</head>
<body>

<!-- ===== TOP BAR ===== -->
<header class="zd-topbar">
  <div class="zd-topbar__left">
    <span class="zd-topbar__title">Zcat Components</span>
    <span class="zd-topbar__version">v1.0.0</span>
  </div>
  <div class="zd-topbar__right">
    <button class="zd-topbar__theme-btn" onclick="toggleTheme()" id="themeBtn" title="Toggle dark/light mode">&#9790;</button>
  </div>
</header>

<!-- ===== LAYOUT ===== -->
<div class="zd-layout">

  <!-- Sidebar -->
  <aside class="zd-sidebar">
    <nav>
      <div class="zd-sidebar__group">
        <h4 class="zd-sidebar__heading">Components</h4>
        <a class="zd-sidebar__link zd-sidebar__link--active" href="#">Button</a>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="zd-main">

    <h1 class="zd-page__title">Buttons</h1>
    <p class="zd-page__desc">A button triggers an event or action. They let users know what will happen next.</p>

    <!-- Sub-tabs -->
    <div class="zd-subtabs">
      <button class="zd-subtab zd-subtab--active" onclick="switchSubtab('customize',this)">Customize</button>
      <button class="zd-subtab" onclick="switchSubtab('showcase',this)">All Variants</button>
    </div>

    <!-- ============================================================
         CUSTOMIZE PANEL
         ============================================================ -->
    <div class="zd-subtab-panel zd-subtab-panel--active" id="panel-customize">
      <div class="zd-preview-layout">

        <!-- Left: Preview + Code -->
        <div class="zd-preview-main">

          <!-- Preview Area -->
          <div class="zd-preview">
            <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md" id="previewBtn">Button</button>
          </div>

          <!-- Code Tabs -->
          <div class="zd-code-tabs">
            <div class="zd-code-tabs__header">
              <button class="zd-code-tab zd-code-tab--active" onclick="switchCodeTab('zcat',this)">ZCAT</button>
              <button class="zd-code-tab" onclick="switchCodeTab('html',this)">Html</button>
              <button class="zd-code-tab" onclick="switchCodeTab('js',this)">JS</button>
              <button class="zd-code-tabs__copy" onclick="copyCode(this)" title="Copy">&#128203;</button>
            </div>
            <div class="zd-code-tab-panel zd-code-tab-panel--active" id="codePanel-zcat">
              <pre><code id="codeZcat"><span class="code-ln">1</span>&lt;lyte-button lt-prop-class="lytePrimaryBtn"&gt;
<span class="code-ln">2</span>  &lt;template is="registerYield" yield-name="text"&gt;
<span class="code-ln">3</span>    &lt;span&gt;Button&lt;/span&gt;
<span class="code-ln">4</span>  &lt;/template&gt;
<span class="code-ln">5</span>&lt;/lyte-button&gt;</code></pre>
            </div>
            <div class="zd-code-tab-panel" id="codePanel-html">
              <pre><code id="codeHtml"><span class="code-ln">1</span>&lt;button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md"&gt;
<span class="code-ln">2</span>  Button
<span class="code-ln">3</span>&lt;/button&gt;</code></pre>
            </div>
            <div class="zd-code-tab-panel" id="codePanel-js">
              <pre><code id="codeJs"><span class="code-ln">1</span>// sLyte component usage
<span class="code-ln">2</span>// The lyte-button component is provided by @slyte/core
<span class="code-ln">3</span>// Apply ZCAT styling via lt-prop-class
<span class="code-ln">4</span>
<span class="code-ln">5</span>// Fill:    lt-prop-class="lytePrimaryBtn"
<span class="code-ln">6</span>// Outline: lt-prop-class="lytePrimaryLineBtn"
<span class="code-ln">7</span>// Ghost:   lt-prop-class="lyteTertiaryBtn"
<span class="code-ln">8</span>// Grey:    lt-prop-class="lyteSecondary"</code></pre>
            </div>
          </div>
        </div>

        <!-- Right: Customise Controls -->
        <div class="zd-customise">
          <div class="zd-customise__header">
            <h3>Customise</h3>
            <button class="zd-customise__reset" onclick="resetCustomise()">Reset</button>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">Variant</span>
            <select class="zd-customise__select" id="ctrlVariant" onchange="updatePreview()">
              <option value="fill" selected>Fill</option>
              <option value="outline">Outline</option>
              <option value="ghost">Ghost</option>
              <option value="ghost-grey">Ghost Grey</option>
              <option value="grey">Grey</option>
              <option value="gradient">Gradient</option>
            </select>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">Color</span>
            <select class="zd-customise__select" id="ctrlColor" onchange="updatePreview()">
              <option value="primary" selected>Primary</option>
              <option value="success">Success</option>
              <option value="danger">Danger</option>
            </select>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">Size</span>
            <select class="zd-customise__select" id="ctrlSize" onchange="updatePreview()">
              <option value="lg">Large (50px)</option>
              <option value="md" selected>Default (36px)</option>
              <option value="sm">Small (28px)</option>
              <option value="xs">Extra-small (24px)</option>
            </select>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">Radius</span>
            <select class="zd-customise__select" id="ctrlRadius" onchange="updatePreview()">
              <option value="default" selected>Default (6px)</option>
              <option value="rounded">Rounded / Pill</option>
            </select>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">Content</span>
            <select class="zd-customise__select" id="ctrlContent" onchange="updatePreview()">
              <option value="text" selected>Text</option>
              <option value="icon">Icon Only</option>
            </select>
          </div>
          <div class="zd-customise__row">
            <span class="zd-customise__label">State</span>
            <select class="zd-customise__select" id="ctrlState" onchange="updatePreview()">
              <option value="default" selected>Default</option>
              <option value="hover">Hover</option>
              <option value="disabled">Disabled</option>
            </select>
          </div>
        </div>

      </div>
    </div>


    <!-- ============================================================
         ALL VARIANTS SHOWCASE
         ============================================================ -->
    <div class="zd-subtab-panel" id="panel-showcase">

      <!-- ==================== FILL ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Fill Buttons</h3>
        <table class="zd-showcase-table">
          <thead>
            <tr><th>Color</th><th>Default</th><th>Hover</th><th>Disabled</th></tr>
          </thead>
          <tbody>
            <tr>
              <td>Primary</td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Success</td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Danger</td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md" disabled>Disabled</button></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- ==================== OUTLINE ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Outline Buttons</h3>
        <table class="zd-showcase-table">
          <thead>
            <tr><th>Color</th><th>Default</th><th>Hover</th><th>Disabled</th></tr>
          </thead>
          <tbody>
            <tr>
              <td>Primary</td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Success</td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--success zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--success zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--success zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Danger</td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--danger zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--danger zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--outline zcat-btn--danger zcat-btn--md" disabled>Disabled</button></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- ==================== GHOST ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Ghost Buttons</h3>
        <table class="zd-showcase-table">
          <thead>
            <tr><th>Color</th><th>Default</th><th>Hover</th><th>Disabled</th></tr>
          </thead>
          <tbody>
            <tr>
              <td>Primary</td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Success</td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--success zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--success zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--success zcat-btn--md" disabled>Disabled</button></td>
            </tr>
            <tr>
              <td>Danger</td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--danger zcat-btn--md">Button</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--danger zcat-btn--md zcat-btn--hover">Hover</button></td>
              <td><button class="zcat-btn zcat-btn--ghost zcat-btn--danger zcat-btn--md" disabled>Disabled</button></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- ==================== GREY ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Grey Buttons</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--grey zcat-btn--md">Default</button>
          <button class="zcat-btn zcat-btn--grey zcat-btn--md zcat-btn--hover">Hover</button>
          <button class="zcat-btn zcat-btn--grey zcat-btn--md" disabled>Disabled</button>
        </div>
      </div>

      <!-- ==================== GHOST GREY ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Ghost Grey Buttons</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--ghost-grey zcat-btn--md">Default</button>
          <button class="zcat-btn zcat-btn--ghost-grey zcat-btn--md zcat-btn--hover">Hover</button>
          <button class="zcat-btn zcat-btn--ghost-grey zcat-btn--md" disabled>Disabled</button>
        </div>
      </div>

      <!-- ==================== GRADIENT ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Gradient Buttons</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--gradient zcat-btn--md">Default</button>
          <button class="zcat-btn zcat-btn--gradient zcat-btn--md zcat-btn--hover">Hover</button>
          <button class="zcat-btn zcat-btn--gradient zcat-btn--md" disabled>Disabled</button>
        </div>
      </div>

      <!-- ==================== ROUNDED / PILL ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Rounded / Pill</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md zcat-btn--rounded">Fill Rounded</button>
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md zcat-btn--rounded">Outline Rounded</button>
          <button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md zcat-btn--rounded">Ghost Rounded</button>
          <button class="zcat-btn zcat-btn--grey zcat-btn--md zcat-btn--rounded">Grey Rounded</button>
        </div>
        <div class="zd-btn-row" style="margin-top:12px">
          <button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--lg zcat-btn--rounded">Large Pill</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md zcat-btn--rounded">Default Pill</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--sm zcat-btn--rounded">Small Pill</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--xs zcat-btn--rounded">XS Pill</button>
        </div>
      </div>

      <!-- ==================== ICON ONLY ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Icon Only Buttons</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--lg zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--sm zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--xs zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
        </div>
        <div class="zd-btn-row" style="margin-top:12px">
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--grey zcat-btn--md zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--ghost-grey zcat-btn--md zcat-btn--icon"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
        </div>
        <div class="zd-btn-row" style="margin-top:12px">
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md zcat-btn--icon zcat-btn--rounded"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md zcat-btn--icon zcat-btn--rounded"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
          <button class="zcat-btn zcat-btn--ghost zcat-btn--primary zcat-btn--md zcat-btn--icon zcat-btn--rounded"><span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span></button>
        </div>
      </div>

      <!-- ==================== SPLIT BUTTON ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Split Buttons</h3>
        <div class="zd-btn-row">
          <div class="zcat-btn-split">
            <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md">Action</button>
            <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md"><span class="zcat-btn-split__caret"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg></span></button>
          </div>
          <div class="zcat-btn-split">
            <button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--md">Action</button>
            <button class="zcat-btn zcat-btn--fill zcat-btn--success zcat-btn--md"><span class="zcat-btn-split__caret"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg></span></button>
          </div>
          <div class="zcat-btn-split">
            <button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md">Action</button>
            <button class="zcat-btn zcat-btn--fill zcat-btn--danger zcat-btn--md"><span class="zcat-btn-split__caret"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg></span></button>
          </div>
        </div>
        <div class="zd-btn-row" style="margin-top:12px">
          <div class="zcat-btn-split zcat-btn-split--outline">
            <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md">Outline</button>
            <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md"><span class="zcat-btn-split__caret"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg></span></button>
          </div>
          <div class="zcat-btn-split zcat-btn-split--rounded">
            <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md">Rounded Split</button>
            <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md"><span class="zcat-btn-split__caret"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg></span></button>
          </div>
        </div>
      </div>

      <!-- ==================== SIZES ==================== -->
      <div class="zd-section">
        <h3 class="zd-section__title">Sizes</h3>
        <div class="zd-btn-row">
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--lg">Large 50px</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--md">Default 36px</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--sm">Small 28px</button>
          <button class="zcat-btn zcat-btn--fill zcat-btn--primary zcat-btn--xs">XS 24px</button>
        </div>
        <div class="zd-btn-row" style="margin-top:12px">
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--lg">Large</button>
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--md">Default</button>
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--sm">Small</button>
          <button class="zcat-btn zcat-btn--outline zcat-btn--primary zcat-btn--xs">XS</button>
        </div>
      </div>

    </div>

  </main>
</div>

<!-- sLyte bundle (for component registration when served via slyte serve) -->
<slyte-import fileName="/app-init.js"></slyte-import>

<!-- ===== SCRIPTS ===== -->
<script>
/* Theme Toggle — uses data-user-color-scheme to match production ZCAT */
function toggleTheme() {
  var h = document.documentElement;
  var isDark = h.getAttribute('data-user-color-scheme') === 'dark';
  if (isDark) {
    h.removeAttribute('data-user-color-scheme');
    document.getElementById('themeBtn').innerHTML = '&#9790;';
    try { localStorage.setItem('zcat-theme', 'light'); } catch(e) {}
  } else {
    h.setAttribute('data-user-color-scheme', 'dark');
    document.getElementById('themeBtn').innerHTML = '&#9728;';
    try { localStorage.setItem('zcat-theme', 'dark'); } catch(e) {}
  }
}

/* Sub-tabs */
function switchSubtab(name, btn) {
  document.querySelectorAll('.zd-subtab').forEach(function(t) { t.classList.remove('zd-subtab--active'); });
  document.querySelectorAll('.zd-subtab-panel').forEach(function(p) { p.classList.remove('zd-subtab-panel--active'); });
  if (btn) btn.classList.add('zd-subtab--active');
  var p = document.getElementById('panel-' + name);
  if (p) p.classList.add('zd-subtab-panel--active');
}

/* Code tabs */
function switchCodeTab(name, btn) {
  document.querySelectorAll('.zd-code-tab').forEach(function(t) { t.classList.remove('zd-code-tab--active'); });
  document.querySelectorAll('.zd-code-tab-panel').forEach(function(p) { p.classList.remove('zd-code-tab-panel--active'); });
  if (btn) btn.classList.add('zd-code-tab--active');
  var p = document.getElementById('codePanel-' + name);
  if (p) p.classList.add('zd-code-tab-panel--active');
}

/* Copy code */
function copyCode(btn) {
  var block = btn.closest('.zd-code-tabs');
  var activePanel = block.querySelector('.zd-code-tab-panel--active');
  var code = activePanel ? activePanel.querySelector('code') : null;
  if (code) {
    navigator.clipboard.writeText(code.textContent).then(function() {
      btn.innerHTML = '&#10003;';
      setTimeout(function() { btn.innerHTML = '&#128203;'; }, 1200);
    });
  }
}

/* sLyte class map for code generation */
var lyteClassMap = {
  'fill-primary': 'lytePrimaryBtn',
  'fill-success': 'lytePrimaryBtn lyteSuccessBtn',
  'fill-danger': 'lyteFailure',
  'outline-primary': 'lytePrimaryLineBtn',
  'outline-success': 'lytePrimaryLineBtn lyteSuccessLineBtn',
  'outline-danger': 'lytePrimaryLineBtn lyteDangerLineBtn',
  'ghost-primary': 'lyteTertiaryBtn',
  'ghost-success': 'lyteTertiaryBtn lyteSuccessGhost',
  'ghost-danger': 'lyteTertiaryBtn lyteDangerGhost',
  'ghost-grey': 'lyteNavGhost',
  'grey': 'lyteSecondary',
  'gradient': 'lyteGradientBtn'
};

/* sLyte size class map */
var lyteSizeMap = { lg: ' lyteLg', md: '', sm: ' lyteSm', xs: ' lyteExsm' };

/* Update preview from controls */
function updatePreview() {
  var v = document.getElementById('ctrlVariant').value;
  var c = document.getElementById('ctrlColor').value;
  var s = document.getElementById('ctrlSize').value;
  var st = document.getElementById('ctrlState').value;
  var r = document.getElementById('ctrlRadius').value;
  var ct = document.getElementById('ctrlContent').value;

  /* Color dropdown: hide for grey/gradient/ghost-grey */
  var colorRow = document.getElementById('ctrlColor').closest('.zd-customise__row');
  colorRow.style.display = (v === 'grey' || v === 'gradient' || v === 'ghost-grey') ? 'none' : 'flex';

  /* Build CSS class */
  var cls = 'zcat-btn zcat-btn--' + s;
  if (v === 'grey' || v === 'gradient' || v === 'ghost-grey') {
    cls += ' zcat-btn--' + v;
  } else {
    cls += ' zcat-btn--' + v + ' zcat-btn--' + c;
  }
  if (r === 'rounded') cls += ' zcat-btn--rounded';
  if (ct === 'icon') cls += ' zcat-btn--icon';
  if (st === 'hover') cls += ' zcat-btn--hover';

  var btn = document.getElementById('previewBtn');
  btn.className = cls;
  btn.disabled = (st === 'disabled');

  /* Content: text or icon */
  if (ct === 'icon') {
    btn.innerHTML = '<span class="zcat-btn__icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span>';
  } else {
    btn.textContent = 'Button';
  }

  /* ZCAT code — sLyte component */
  var lyteKey = (v === 'grey' || v === 'gradient' || v === 'ghost-grey') ? v : (v + '-' + c);
  var lyteClass = (lyteClassMap[lyteKey] || 'lytePrimaryBtn') + (lyteSizeMap[s] || '');
  var disAttr = st === 'disabled' ? ' lt-prop-disabled="true"' : '';

  var btnLabel = ct === 'icon' ? '&#x2795;' : 'Button';
  var zcat = '<span class="code-ln">1</span>&lt;lyte-button lt-prop-class="' + lyteClass + '"' + disAttr + '&gt;\n';
  zcat += '<span class="code-ln">2</span>  &lt;template is="registerYield" yield-name="text"&gt;\n';
  zcat += '<span class="code-ln">3</span>    &lt;span&gt;' + btnLabel + '&lt;/span&gt;\n';
  zcat += '<span class="code-ln">4</span>  &lt;/template&gt;\n';
  zcat += '<span class="code-ln">5</span>&lt;/lyte-button&gt;';
  document.getElementById('codeZcat').innerHTML = zcat;

  /* HTML code — CSS class usage */
  var htmlCls = 'zcat-btn zcat-btn--' + v;
  if (v !== 'grey' && v !== 'gradient' && v !== 'ghost-grey') htmlCls += ' zcat-btn--' + c;
  htmlCls += ' zcat-btn--' + s;
  if (r === 'rounded') htmlCls += ' zcat-btn--rounded';
  if (ct === 'icon') htmlCls += ' zcat-btn--icon';

  var htmlContent = ct === 'icon'
    ? '\n<span class="code-ln">2</span>  &lt;span class="zcat-btn__icon"&gt;...&lt;/span&gt;\n'
    : '\n<span class="code-ln">2</span>  Button\n';
  var html = '<span class="code-ln">1</span>&lt;button class="' + htmlCls + '"' + (st === 'disabled' ? ' disabled' : '') + '&gt;';
  html += htmlContent;
  html += '<span class="code-ln">3</span>&lt;/button&gt;';
  document.getElementById('codeHtml').innerHTML = html;

  /* JS code */
  var js = '<span class="code-ln">1</span>// sLyte component usage\n';
  js += '<span class="code-ln">2</span>// Apply via lt-prop-class on &lt;lyte-button&gt;\n';
  js += '<span class="code-ln">3</span>\n';
  js += '<span class="code-ln">4</span>// Production class: "' + lyteClass + '"\n';
  js += '<span class="code-ln">5</span>// CSS class:        "' + htmlCls + '"';
  document.getElementById('codeJs').innerHTML = js;
}

/* Reset customise */
function resetCustomise() {
  document.getElementById('ctrlVariant').value = 'fill';
  document.getElementById('ctrlColor').value = 'primary';
  document.getElementById('ctrlSize').value = 'md';
  document.getElementById('ctrlRadius').value = 'default';
  document.getElementById('ctrlContent').value = 'text';
  document.getElementById('ctrlState').value = 'default';
  updatePreview();
}

/* Init: restore saved theme */
(function() {
  var saved;
  try { saved = localStorage.getItem('zcat-theme'); } catch(e) {}
  if (!saved && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) saved = 'dark';
  if (saved === 'dark') {
    document.documentElement.setAttribute('data-user-color-scheme', 'dark');
    var b = document.getElementById('themeBtn');
    if (b) b.innerHTML = '&#9728;';
  }
})();
</script>
</body>
</html>
